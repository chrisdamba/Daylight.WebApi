{"version":3,"file":"public\\javascripts\\app.js","sources":["app/components/collection_view.coffee","app/config.coffee","app/daylight/application.coffee","app/daylight/collections/patient_collection.coffee","app/daylight/models/application_model.coffee","app/daylight/models/patient_collection.coffee","app/daylight/models/patient_model.coffee","app/daylight/views/home_view.coffee","app/daylight/views/patient_list_item_view.coffee","app/daylight/views/patient_list_view.coffee","app/daylight/views/patient_summary_view.coffee","app/daylight/views/patient_view.coffee","app/daylight/views/shell_view.coffee","app/initialize.coffee","app/router/router.coffee","app/templates/book_template.eco","app/templates/conditions_template.eco","app/templates/home_template.eco","app/templates/patient_list_item_template.eco","app/templates/patient_summary_template.eco","app/templates/patients_template.eco","app/templates/shell_template.eco"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnHA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9JA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3HA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArFA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnIA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtDA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;;A","sourcesContent":["var CollectionView, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nmodule.exports = CollectionView = (function(_super) {\n  __extends(CollectionView, _super);\n\n  function CollectionView() {\n    this.render = __bind(this.render, this);\n    _ref = CollectionView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  CollectionView.prototype.tagName = 'ul';\n\n  CollectionView.prototype._itemView = void 0;\n\n  CollectionView.prototype._itemViews = void 0;\n\n  CollectionView.prototype.dispose = function() {\n    CollectionView.__super__.dispose.apply(this, arguments);\n    delete this._itemView;\n    delete this._itemViews;\n    return delete this.collection;\n  };\n\n  CollectionView.prototype.initialize = function(options) {\n    var _this = this;\n    CollectionView.__super__.initialize.apply(this, arguments);\n    this._itemView = options.itemView;\n    this._itemViews = [];\n    if (!this.collection) {\n      throw new Error('ERROR: CollectionView.initialize() - collection option must be specified');\n    }\n    if (!this._itemView) {\n      throw new Error('ERROR: CollectionView.initialize() - itemView option must be specified');\n    }\n    this.listenTo(this.collection, 'add', function(model, collection, options) {\n      return _this._renderItem(model);\n    });\n    this.listenTo(this.collection, 'remove', function(model, collection, options) {\n      return _this._removeItem(model);\n    });\n    return this.listenTo(this.collection, 'reset', function(collection, options) {\n      return _this._reset();\n    });\n  };\n\n  CollectionView.prototype.render = function() {\n    CollectionView.__super__.render.apply(this, arguments);\n    this.collection.each(this._renderItem);\n    return this;\n  };\n\n  CollectionView.prototype.views = function() {\n    return this._itemViews.slice(0);\n  };\n\n  CollectionView.prototype.size = function() {\n    return this._itemViews.length;\n  };\n\n  CollectionView.prototype._renderItem = function(model) {\n    var view;\n    view = new this._itemView({\n      model: model\n    });\n    this._itemViews.push(view);\n    this._itemEvent('itemAdded', view);\n    this.renderChild(view).el;\n    this._itemEvent('itemRendered', view);\n    this.$el.append(view.el);\n    return view;\n  };\n\n  CollectionView.prototype._itemEvent = function(type, itemView) {\n    return this.trigger(type, {\n      target: this,\n      itemView: itemView\n    });\n  };\n\n  CollectionView.prototype._removeItem = function(model) {\n    var i, view, _i, _len, _ref1, _results;\n    _ref1 = this._itemViews;\n    _results = [];\n    for (i = _i = 0, _len = _ref1.length; _i < _len; i = ++_i) {\n      view = _ref1[i];\n      if (view.model.id === model.id) {\n        this._itemViews.splice(i, 1);\n        view.leave();\n        this._itemEvent('itemRemoved', view);\n        break;\n      } else {\n        _results.push(void 0);\n      }\n    }\n    return _results;\n  };\n\n  CollectionView.prototype._reset = function() {\n    var view, _i, _len, _ref1;\n    _ref1 = this._itemViews;\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      view = _ref1[_i];\n      view.leave();\n    }\n    this._itemViews = [];\n    return this.render();\n  };\n\n  return CollectionView;\n\n})(support.View);\n","module.exports = {\n  IoC: {\n    PatientCollection: {\n      type: 'daylight/collections/patient_collection',\n      lifestyle: 'transient',\n      properties: {\n        _url: '/API/Patients'\n      }\n    },\n    PatientModel: {\n      type: 'daylight/models/patient_model',\n      properties: {\n        _urlRoot: '/API/Patients',\n        _thumbnailPath: '${patient.thumbnailPath}'\n      }\n    },\n    ConditionsCollection: {\n      type: 'daylight/collections/condition_collection',\n      lifestyle: 'transient',\n      properties: {\n        url: '/API/Patients/:id/conditions'\n      }\n    },\n    ConditionModel: {\n      type: 'daylight/models/condition_model',\n      properties: {\n        _urlRoot: '/API/Patients/{0}/conditions'\n      }\n    }\n  },\n  defaultSettings: {\n    patient: {\n      rootUrl: '',\n      thumbnailPath: '/API/Patients/{0}/Thumbnail?width=300'\n    }\n  }\n};\n","var Application, ApplicationModel, HomeView, PatientCollection, PatientListView, PatientView, Router, ShellView,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApplicationModel = require('daylight/models/application_model');\n\nHomeView = require('daylight/views/home_view');\n\nPatientView = require('daylight/views/patient_view');\n\nPatientListView = require('daylight/views/patient_list_view');\n\nShellView = require('daylight/views/shell_view');\n\nRouter = require('router/router');\n\nPatientCollection = require('daylight/collections/patient_collection');\n\nApplication = (function(_super) {\n  __extends(Application, _super);\n\n  function Application($el) {\n    var _this = this;\n    this.$el = $el;\n    this.onPatientPageChanged = __bind(this.onPatientPageChanged, this);\n    this.showDefault = __bind(this.showDefault, this);\n    Application.__super__.constructor.call(this, this.$el);\n    this.router = new Router();\n    this.shellView = new ShellView;\n    $(\"body\").html(this.shellView.render().el);\n    $(\"body\").click(function() {\n      return $(\".dropdown\").removeClass(\"open\");\n    });\n    window.App.eventAggregator.on('navigate:home', function(e) {\n      return _this.showDefault(e || {});\n    });\n    window.App.eventAggregator.on('navigate:patients', function(e) {\n      return _this.showPatientList(e || {});\n    });\n    window.App.eventAggregator.on('navigate:patient', function(e) {\n      return _this.showPatient(e.id, e.index, e.subIndex, e.editMode);\n    });\n    this.appModel = new ApplicationModel;\n    Backbone.history.start();\n  }\n\n  Application.prototype.doShow = function(viewClass, load) {\n    var view;\n    if (load == null) {\n      load = false;\n    }\n    if (!(this.currentView instanceof viewClass)) {\n      view = new viewClass({\n        model: this.appModel\n      });\n      if (load) {\n        view.load();\n      }\n      this.showView(view);\n      this.$el.html(view.el);\n      return this.shellView.selectMenuItem(\"home-menu\");\n    }\n  };\n\n  Application.prototype.showDefault = function(e) {\n    var route;\n    route = this.appModel.get('routes')[\"default\"];\n    route = \"\" + route;\n    this.doShow(HomeView);\n    return this.router.navigate(route);\n  };\n\n  Application.prototype.showPatientList = function(params) {\n    var collection, route, _ref;\n    if (params == null) {\n      params = {};\n    }\n    if ((_ref = this.currentPatient) != null) {\n      _ref.dispose();\n    }\n    window.App.currentPatient = this.currentPatient = null;\n    route = '';\n    if (!_.isEmpty(params)) {\n      route = window.decache(this.router.addParamsToRoute(route, params));\n    }\n    collection = null;\n    delete window.App.currentPatient;\n    if (!(this.currentView instanceof PatientsView)) {\n      collection = new PatientCollection({\n        url: 'API/Patients'\n      });\n      this.showView(new PatientListView({\n        collection: collection\n      }));\n    } else {\n      collection = this.currentView.collection;\n    }\n    if (!_.isEqual(collection.getFilter(), params)) {\n      collection.setFilter(params);\n      collection.fetch();\n    }\n    $.get(window.decache(window.App.url('/Patients/Activity/')));\n    return this.router.navigate(route);\n  };\n\n  Application.prototype.showPatient = function(id, index, subIndex, editMode) {\n    var _ref,\n      _this = this;\n    if (index == null) {\n      index = 0;\n    }\n    if (subIndex == null) {\n      subIndex = 0;\n    }\n    if (editMode == null) {\n      editMode = false;\n    }\n    if (this.currentPatient && ((_ref = this.currentPatient) != null ? _ref.id : void 0) === id) {\n      this.currentPatient.navigate(index, subIndex, editMode);\n    } else {\n      window.App.currentPatient = this.currentPatient = window.IoC.get('PatientModel', {\n        id: id\n      }, {\n        parse: true\n      });\n      this.currentPatient.on('navigate', this.onPatientPageChanged);\n      this.currentPatient.fetch({\n        success: function(model, response, options) {\n          model.navigate(index, subIndex, editMode);\n          return _this.showView(new PatientView({\n            model: model\n          }));\n        },\n        error: function(model, response, options) {\n          if (response.status = 403) {\n            return window.location = '/Error/Access';\n          }\n        }\n      });\n    }\n    return this.shellView.selectMenuItem();\n  };\n\n  Application.prototype.onPatientPageChanged = function(e) {\n    return this.router.navigate(window.App.pageUrl({\n      id: this.currentPatient.id,\n      index: e.to.index,\n      subIndex: e.to.subIndex,\n      editMode: e.to.editMode\n    }));\n  };\n\n  return Application;\n\n})(support.Application);\n\nmodule.exports = Application;\n","var PatientCollection, PatientModel, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientModel = require('daylight/models/patient_model');\n\nPatientCollection = (function(_super) {\n  __extends(PatientCollection, _super);\n\n  function PatientCollection() {\n    _ref = PatientCollection.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  PatientCollection.prototype.url = 'API/Patients';\n\n  PatientCollection.prototype.model = PatientModel;\n\n  return PatientCollection;\n\n})(support.LazyCollection);\n\nmodule.exports = PatientCollection;\n","var ApplicationModel, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApplicationModel = (function(_super) {\n  __extends(ApplicationModel, _super);\n\n  function ApplicationModel() {\n    _ref = ApplicationModel.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  ApplicationModel.prototype.defaults = {\n    routes: {\n      \"default\": '',\n      patients: 'patients',\n      patient: 'patient'\n    }\n  };\n\n  return ApplicationModel;\n\n})(Backbone.Model);\n\nmodule.exports = ApplicationModel;\n","var PatientCollection, PatientModel, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientModel = require('daylight/models/patient_model');\n\nPatientCollection = (function(_super) {\n  __extends(PatientCollection, _super);\n\n  function PatientCollection() {\n    _ref = PatientCollection.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  PatientCollection.prototype.url = 'API/Patients';\n\n  PatientCollection.prototype.model = PatientModel;\n\n  return PatientCollection;\n\n})(support.LazyCollection);\n\nmodule.exports = PatientCollection;\n","var PatientModel, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientModel = (function(_super) {\n  __extends(PatientModel, _super);\n\n  function PatientModel() {\n    this.onRequestSave = __bind(this.onRequestSave, this);\n    this.initialize = __bind(this.initialize, this);\n    _ref = PatientModel.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  PatientModel.prototype.defaults = {\n    username: void 0,\n    relationshipStatus: void 0,\n    name: void 0,\n    otherNames: void 0,\n    telecoms: void 0,\n    dateOfBirth: void 0,\n    dobEstimate: false,\n    relationships: void 0,\n    addresses: void 0,\n    conditions: void 0,\n    medications: void 0,\n    procedures: void 0,\n    uri: void 0,\n    _editMode: false,\n    _index: 0,\n    _subIndex: 0,\n    _thumbnailPath: '/API/Patients/{0}/Thumbnail?width=300',\n    _hasParsed: void 0\n  };\n\n  PatientModel.prototype.urlRoot = function() {\n    return window.App.url(this._urlRoot);\n  };\n\n  PatientModel.prototype.initialize = function(options) {\n    var _this = this;\n    PatientModel.__super__.initialize.call(this, options);\n    this.throttledSave = _.throttle(function() {\n      return _this.save();\n    }, 1000, true);\n    return this.on('change:_editMode', function(model, value, options) {\n      if (value) {\n        return window.App.eventAggregator.on('request:savePatient', _this.onRequestSave);\n      } else {\n        return window.App.eventAggregator.off('request:savePatient', _this.onRequestSave);\n      }\n    });\n  };\n\n  PatientModel.prototype.onRequestSave = function() {\n    return this.throttledSave();\n  };\n\n  PatientModel.prototype.getThumbnailUrl = function() {\n    var stamp, url;\n    url = window.App.url(this.get('_thumbnailPath')).replace('{0}', this.id);\n    stamp = this.get('dateOfBirth').replace(/\\D/g, '');\n    return window.decache(url, stamp);\n  };\n\n  PatientModel.prototype.toJSON = function() {\n    var json;\n    json = PatientModel.__super__.toJSON.apply(this, arguments);\n    console.log(json);\n    return json;\n  };\n\n  PatientModel.prototype.navigate = function(index, subIndex, editMode) {\n    var oldEditMode, oldIndex, oldSubIndex;\n    if (index == null) {\n      index = 0;\n    }\n    if (subIndex == null) {\n      subIndex = 0;\n    }\n    if (editMode == null) {\n      editMode = false;\n    }\n    index = Math.max(0, Math.min(this.get('conditions').length - 1, index));\n    oldIndex = this.get('_index');\n    oldSubIndex = this.get('_subIndex');\n    oldEditMode = this.get('_editMode');\n    this.set({\n      _index: index,\n      _subIndex: subIndex,\n      _editMode: editMode\n    });\n    this.get('conditions').at(index).navigate(subIndex);\n    return this.trigger('navigate', {\n      from: {\n        index: oldIndex,\n        subIndex: oldSubIndex,\n        editMode: oldEditMode\n      },\n      to: {\n        index: index,\n        subIndex: subIndex,\n        editMode: editMode\n      }\n    });\n  };\n\n  PatientModel.prototype.editMode = function(mode) {\n    this.set('_editMode', mode);\n    return this.get('conditions').invoke('editMode', mode);\n  };\n\n  PatientModel.prototype.dispose = function() {\n    window.App.eventAggregator.off('request:savePatient', this.onRequestSave);\n    return this.get('conditions').off();\n  };\n\n  return PatientModel;\n\n})(support.Model);\n\nmodule.exports = PatientModel;\n","var HomeView, HomeViewTemplate, ShellView, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nHomeViewTemplate = require('templates/home_template');\n\nShellView = require('daylight/views/shell_view');\n\nHomeView = (function(_super) {\n  __extends(HomeView, _super);\n\n  function HomeView() {\n    this.showMeBtnClick = __bind(this.showMeBtnClick, this);\n    this.render = __bind(this.render, this);\n    _ref = HomeView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  HomeView.prototype.template = HomeViewTemplate;\n\n  HomeView.prototype.events = {\n    'click #showMeBtn': 'showMeBtnClick'\n  };\n\n  HomeView.prototype.render = function() {\n    this.$el.html(this.template());\n    return this;\n  };\n\n  HomeView.prototype.showMeBtnClick = function() {\n    console.log(\"showme\");\n    this.shellView = new ShellView;\n    return this.shellView.search();\n  };\n\n  return HomeView;\n\n})(support.View);\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = HomeView;\n}\n","var PatientListItemTemplate, PatientListItemView, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientListItemTemplate = require('templates/patient_list_item_template');\n\nPatientListItemView = (function(_super) {\n  __extends(PatientListItemView, _super);\n\n  function PatientListItemView() {\n    this.onDestroy = __bind(this.onDestroy, this);\n    this.render = __bind(this.render, this);\n    this.template = __bind(this.template, this);\n    _ref = PatientListItemView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  PatientListItemView.prototype.tagName = 'li';\n\n  PatientListItemView.prototype.template = function(data) {\n    return PatientListItemTemplate(data);\n  };\n\n  PatientListItemView.prototype.initialize = function(options) {\n    PatientListItemView.__super__.initialize.call(this, options);\n    this.bindTo(this.model, 'change', this.render);\n    return this.bindTo(this.model, 'destroy', this.onDestroy);\n  };\n\n  PatientListItemView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  PatientListItemView.prototype.onDestroy = function() {\n    return this.leave();\n  };\n\n  return PatientListItemView;\n\n})(support.View);\n\nmodule.exports = PatientListItemView;\n","var PatientListItemView, PatientListView, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientListItemView = require('daylight/views/patient_list_item_view');\n\nPatientListView = (function(_super) {\n  __extends(PatientListView, _super);\n\n  function PatientListView() {\n    this.reset = __bind(this.reset, this);\n    this.removePatient = __bind(this.removePatient, this);\n    this.patientEvent = __bind(this.patientEvent, this);\n    this.renderPatient = __bind(this.renderPatient, this);\n    this.render = __bind(this.render, this);\n    this.dispose = __bind(this.dispose, this);\n    _ref = PatientListView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  PatientListView.prototype.tagName = 'ul';\n\n  PatientListView.prototype.className = 'nav nav-list';\n\n  PatientListView.prototype.dispose = function() {\n    PatientListView.__super__.dispose.apply(this, arguments);\n    return delete this._collection;\n  };\n\n  PatientListView.prototype.initialize = function(options) {\n    var _this = this;\n    PatientListView.__super__.initialize.call(this, options);\n    this._collection = options.model;\n    if (!this._collection) {\n      throw new Error('ERROR: PatientListView.initialize() - collection option must be specified');\n    }\n    this.listenTo(this._collection, 'add', this.renderPatient);\n    this.listenTo(this._collection, 'remove', function(model, collection, options) {\n      return _this.removePatient(model);\n    });\n    this.listenTo(this._collection, 'reset', function(collection, options) {\n      return _this.reset();\n    });\n    return _.bindAll(this, 'render');\n  };\n\n  PatientListView.prototype.render = function() {\n    PatientListView.__super__.render.apply(this, arguments);\n    this.$el.empty();\n    this._collection.forEach(this.renderPatient, this);\n    return this;\n  };\n\n  PatientListView.prototype.renderPatient = function(model) {\n    var view;\n    view = new PatientListItemView({\n      model: model\n    });\n    this.patientEvent('patientAdded', view);\n    this.patientEvent('patientRendered', view);\n    return this.$el.append(this.renderChild(view).el);\n  };\n\n  PatientListView.prototype.patientEvent = function(type, patientView) {\n    return this.trigger(type, {\n      target: this,\n      patientView: patientView\n    });\n  };\n\n  PatientListView.prototype.removePatient = function(model) {\n    var view;\n    view = new PatientListItemView({\n      model: model\n    });\n    if (view.model.id === model.id) {\n      view.leave();\n      return this.patientEvent('patientRemoved', view);\n    }\n  };\n\n  PatientListView.prototype.reset = function() {\n    return this.render();\n  };\n\n  return PatientListView;\n\n})(support.View);\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = PatientListView;\n}\n","var PatientSummaryTemplate, PatientSummaryView, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientSummaryTemplate = require('templates/patient_summary_template');\n\nPatientSummaryView = (function(_super) {\n  __extends(PatientSummaryView, _super);\n\n  function PatientSummaryView() {\n    this.render = __bind(this.render, this);\n    this.template = __bind(this.template, this);\n    _ref = PatientSummaryView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  PatientSummaryView.prototype.template = function(data) {\n    return PatientSummaryTemplate(data);\n  };\n\n  PatientSummaryView.prototype.initialize = function(options) {\n    PatientSummaryView.__super__.initialize.call(this, options);\n    return this.listenTo(this.model, 'change', this.render, this);\n  };\n\n  PatientSummaryView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  return PatientSummaryView;\n\n})(support.View);\n\nmodule.exports = PatientSummaryView;\n","var PatientListView, PatientSummaryTemplate, PatientSummaryView, PatientView, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientSummaryView = require('daylight/views/patient_summary_view');\n\nPatientListView = require('daylight/views/patient_list_view');\n\nPatientSummaryTemplate = require('templates/patient_summary_template');\n\nPatientView = (function(_super) {\n  __extends(PatientView, _super);\n\n  function PatientView() {\n    this.render = __bind(this.render, this);\n    this.template = __bind(this.template, this);\n    _ref = PatientView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  PatientView.prototype.template = function(data) {\n    return PatientSummaryTemplate(data);\n  };\n\n  PatientView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    $(\"#details\", this.el).html(new PatientSummaryView({\n      model: this.model\n    }).render().el);\n    this.model.conditions.fetch({\n      success: function(data) {\n        if (data.length === 0) {\n          return $(\".no-reports\").show();\n        }\n      }\n    });\n    $(\"#reports\", this.el).append(new PatientListView({\n      collection: this.model.conditions\n    }).render().el);\n    return this;\n  };\n\n  return PatientView;\n\n})(support.View);\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = PatientView;\n}\n","var PatientCollection, PatientListView, ShellTemplate, ShellView, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nPatientListView = require('daylight/views/patient_list_view');\n\nShellTemplate = require('templates/shell_template');\n\nPatientCollection = require('daylight/collections/patient_collection');\n\nShellView = (function(_super) {\n  __extends(ShellView, _super);\n\n  function ShellView() {\n    this.selectMenuItem = __bind(this.selectMenuItem, this);\n    this.onkeypress = __bind(this.onkeypress, this);\n    this.search = __bind(this.search, this);\n    this.render = __bind(this.render, this);\n    this.template = __bind(this.template, this);\n    _ref = ShellView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  ShellView.prototype.events = {\n    'keyup .search-query': 'search',\n    'keypress .search-query': 'onkeypress'\n  };\n\n  ShellView.prototype.template = function(data) {\n    return ShellTemplate(data);\n  };\n\n  ShellView.prototype.initialize = function(options) {\n    ShellView.__super__.initialize.call(this, options);\n    this.searchResults = new PatientCollection({\n      url: 'API/Patients'\n    });\n    this.searchResults.fetch();\n    console.log(this.searchResults);\n    return this.searchresultsView = new PatientListView({\n      model: this.searchResults,\n      className: \"dropdown-menu\"\n    });\n  };\n\n  ShellView.prototype.render = function() {\n    this.$el.html(this.template(this.model));\n    $(\".navbar-search\", this.el).append(this.searchresultsView.render().el);\n    return this;\n  };\n\n  ShellView.prototype.search = function(e) {\n    var key, self;\n    key = $(\"#searchText\").val();\n    this.searchResults.fetch({\n      reset: true,\n      data: {\n        name: key\n      }\n    });\n    self = this;\n    return setTimeout(function() {\n      return $(\".dropdown\").addClass(\"open\");\n    });\n  };\n\n  ShellView.prototype.onkeypress = function(e) {\n    if (e.keyCode === 13) {\n      return e.preventDefault();\n    }\n  };\n\n  ShellView.prototype.selectMenuItem = function(menuItem) {\n    $(\".navbar .nav li\").removeClass(\"active\");\n    if (menuItem) {\n      return $(\".\" + menuItem).addClass(\"active\");\n    }\n  };\n\n  return ShellView;\n\n})(support.View);\n\nmodule.exports = ShellView;\n","var Application;\n\nApplication = require('daylight/application');\n\n$(function() {\n  delete Backbone.Model.prototype.escape;\n  window.App = {\n    eventAggregator: new support.EventAggregator(),\n    host: ''\n  };\n  return new Application($('#content'));\n});\n","var Router, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nRouter = (function(_super) {\n  __extends(Router, _super);\n\n  function Router() {\n    _ref = Router.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  Router.prototype.routes = {\n    '?*query': 'default',\n    '*actions': 'default',\n    '': 'default',\n    'edit/:id/patient:index.:subIndex': 'editPatient',\n    'edit/:id/patient:index': 'editPatient',\n    ':id/condition:index.:subIndex': 'patient',\n    ':id/condition:index': 'patient',\n    'patients/:id': 'patient',\n    ':id': 'patient'\n  };\n\n  Router.prototype[\"default\"] = function(query) {\n    var params;\n    params = this.getParams(query) || {};\n    return App.eventAggregator.trigger('navigate:home', params);\n  };\n\n  Router.prototype.editPatient = function(id, index, subIndex) {\n    if (index == null) {\n      index = 1;\n    }\n    if (subIndex == null) {\n      subIndex = 1;\n    }\n    return this.patient(id, index, subIndex, true);\n  };\n\n  Router.prototype.patient = function(id, index, subIndex, editMode) {\n    if (index == null) {\n      index = 1;\n    }\n    if (subIndex == null) {\n      subIndex = 1;\n    }\n    if (editMode == null) {\n      editMode = false;\n    }\n    index = parseInt(index) - 1;\n    subIndex = parseInt(subIndex) - 1;\n    return App.eventAggregator.trigger(\"navigate:patient\", {\n      id: id,\n      index: index,\n      subIndex: subIndex,\n      editMode: editMode\n    });\n  };\n\n  Router.prototype.getParams = function(str) {\n    var params, rtn,\n      _this = this;\n    if (!str) {\n      return null;\n    }\n    params = str.replace(/\\?/, '');\n    params = params.split('&');\n    rtn = {};\n    _.each(params, function(param) {\n      param = param.split('=');\n      return rtn[param[0]] = _this._decodeValue(param[1]);\n    });\n    return rtn;\n  };\n\n  Router.prototype.addParamsToRoute = function(route, params) {\n    var iterator,\n      _this = this;\n    route = route || '';\n    iterator = function(memo, value, key) {\n      var isFirst;\n      if (!value) {\n        return memo;\n      }\n      isFirst = memo === route;\n      value = _this._encodeValue(value);\n      if (isFirst) {\n        return \"\" + memo + \"?\" + key + \"=\" + value;\n      } else {\n        return \"\" + memo + \"&\" + key + \"=\" + value;\n      }\n    };\n    return _.reduce(params, iterator, route);\n  };\n\n  Router.prototype._encodeValue = function(value, delimiter) {\n    var rtn;\n    if (delimiter == null) {\n      delimiter = '+';\n    }\n    if (!_.isString(value)) {\n      return value;\n    }\n    rtn = value.split(' ');\n    rtn = _.map(rtn, function(el) {\n      return encodeURIComponent(el);\n    });\n    return rtn = rtn.join(delimiter);\n  };\n\n  Router.prototype._decodeValue = function(value, delimiter) {\n    var rtn;\n    if (delimiter == null) {\n      delimiter = '+';\n    }\n    if (!_.isString(value)) {\n      return value;\n    }\n    rtn = value.split(delimiter);\n    rtn = _.map(rtn, function(el) {\n      return decodeURIComponent(el);\n    });\n    return rtn = rtn.join(' ');\n  };\n\n  return Router;\n\n})(support.Router);\n\nmodule.exports = Router;\n","module.exports = function (__obj) {\n  if (!__obj) __obj = {};\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<img src=\"');\n    \n      __out.push(__sanitize(this.coverImage));\n    \n      __out.push('\" />\\n    <ul>\\n        <li>');\n    \n      __out.push(__sanitize(this.title));\n    \n      __out.push('</li>\\n        <li>');\n    \n      if (this.author) {\n        __out.push(__sanitize(this.author.displayName));\n      }\n    \n      __out.push('</li>\\n        <li>');\n    \n      __out.push(__sanitize(this.releaseDate));\n    \n      __out.push('</li>\\n        <li>');\n    \n      __out.push(__sanitize(this.keywords));\n    \n      __out.push('</li>\\n    </ul>\\n\\n<button class=\"delete\">Delete</button>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","module.exports = function (__obj) {\n  if (!__obj) __obj = {};\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<div id=\"details\" class=\"span7\"></div>\\n<div class=\"span5\">\\n    <div id=\"reports\" class=\"well\">\\n        <h3 class=\"modal-header\">Conditions</h3>\\n\\n        <div class=\"alert alert-info no-reports\">\\n            <h4 class=\"alert-heading\">Info</h4>\\n            ');\n    \n      __out.push(__sanitize(firstName));\n    \n      __out.push(' ');\n    \n      __out.push(__sanitize(lastName));\n    \n      __out.push(' has no direct reports\\n        </div>\\n    </div>\\n</div>\\n');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","module.exports = function (__obj) {\n  if (!__obj) __obj = {};\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<div class=\"hero-unit\" style=\"padding-bottom: 20px;\">\\n    <div class=\"row-fluid\">\\n        <div class=\"span5\">\\n            <img src=\"img/logo.png\">\\n        </div>\\n\\n        <div class=\"span7\">\\n            <h2>Welcome to Daylight Surgery Clinical Portal</h2>\\n            <p>Daylight Surgery is a clinal portal app.</p>\\n        </div>\\n    </div>\\n    <div class=\"row-fluid\" style=\"padding-top:30px;\">\\n        <div class=\"span3\">\\n            <iframe class=\"github-btn\"\\n                    src=\"http://ghbtns.com/github-btn.html?user=ccoenraets&amp;repo=directory-backbone-bootstrap&amp;type=watch&amp;count=true\"\\n                    allowtransparency=\"true\" frameborder=\"0\" scrolling=\"0\" height=\"20px\"></iframe>\\n        </div>\\n        <div class=\"span3\">\\n            <iframe class=\"github-btn\"\\n                    src=\"http://ghbtns.com/github-btn.html?user=ccoenraets&amp;repo=directory-backbone-bootstrap&amp;type=fork&amp;count=true\"\\n                    allowtransparency=\"true\" frameborder=\"0\" scrolling=\"0\" height=\"20px\"></iframe>\\n        </div>\\n        <div class=\"span3\">\\n            <iframe allowtransparency=\"true\" frameborder=\"0\" scrolling=\"no\"\\n                    src=\"http://platform.twitter.com/widgets/tweet_button.1359159993.html#_=1360071947974&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;\\n                    original_referer=http%3A%2F%2Fcoenraets.org%2F&amp;size=m&amp;text=Sociogram&amp;url=http%3A%2F%2Fcoenraets.org%2Fblog/directory&amp;via=ccoenraets\"\\n                    class=\"twitter-share-button twitter-count-horizontal\" style=\"height: 20px;\"\\n                    title=\"Twitter Tweet Button\" data-twttr-rendered=\"true\"></iframe>\\n\\n        </div>\\n        <div class=\"span3\">\\n            <iframe allowtransparency=\"true\" frameborder=\"0\" scrolling=\"no\"\\n                    src=\"http://platform.twitter.com/widgets/follow_button.1359159993.html#_=1360071947985&amp;id=twitter-widget-1&amp;lang=en&amp;screen_name=ccoenraets&amp;show_count=true&amp;show_screen_name=true&amp;size=m\"\\n                    class=\"twitter-follow-button twitter-follow-button\" style=\"height: 20px;\"\\n                    title=\"Twitter Follow Button\" data-twttr-rendered=\"true\"></iframe>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n<div class=\"row-fluid\">\\n    <div class=\"span4\">\\n        <h2>Try It</h2>\\n\\n        <p>Enter a few characters in the Search Box in the upper right corner of the screen, and select an employee. In\\n            the Employee view, you can navigate up and down the Org Chart by clicking either the Manager link,\\n            or one of the Direct Reports in the sidebar on the right of the screen.</p>\\n\\n        <p><a id=\"showMeBtn\" class=\"btn\" href=\"#\">Show Me &raquo;</a></p>\\n    </div>\\n    <div class=\"span4\">\\n        <h2>Get the Code</h2>\\n\\n        <p>The source code for this application is maintained in <a\\n                href=\"https://github.com/ccoenraets/backbone-directory\">this GitHub repository</a>. The repository includes several adapters to use the application with different data persistence solutions: in-memory store, REST API, REST with JSONP, Node.js, MongoDB, etc.</p>\\n\\n        <p><a class=\"btn\" href=\"https://github.com/ccoenraets/directory-backbone-bootstrap/zipball/master\">Download &raquo;</a></p>\\n    </div>\\n    <div class=\"span4\">\\n        <h2>Get More</h2>\\n        <p>The Employee Directory use case is simple enough to be easily understandable. It\\'s also not entirely trivial and provides a good playground to test frameworks in a real-life context. Other versions of the application built with other frameworks are available on the author\\'s blog.<p>\\n        <p><a class=\"btn\" href=\"http://coenraets.org\">Visit the Blog</a></p>\\n    </div>\\n</div>\\n');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","module.exports = function (__obj) {\n  if (!__obj) __obj = {};\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<a href=\\'#patients/');\n    \n      __out.push(__sanitize(this.patientId));\n    \n      __out.push('\\'>\\n    <img width=\"50\" height=\"50\" src=\"pics/');\n    \n      __out.push(__sanitize(this.name.givenName));\n    \n      __out.push('_');\n    \n      __out.push(__sanitize(this.name.familyName));\n    \n      __out.push('50.jpg\" style=\"float:left;margin-right: 10px;\"/>\\n    <p class=\"list-item\">');\n    \n      __out.push(__sanitize(this.name.givenName));\n    \n      __out.push(' ');\n    \n      __out.push(__sanitize(this.name.familyName));\n    \n      __out.push('<br />');\n    \n      __out.push(__sanitize(this.dateOfBirth));\n    \n      __out.push('</p>\\n</a>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","module.exports = function (__obj) {\n  if (!__obj) __obj = {};\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<p><img src=\"pics/');\n    \n      __out.push(__sanitize(this.names.givenName));\n    \n      __out.push('_');\n    \n      __out.push(__sanitize(this.names.familyName));\n    \n      __out.push('.jpg\" width=\"160\" height=\"160\"/></p>\\n<h3>');\n    \n      __out.push(__sanitize(this.name.givenName));\n    \n      __out.push(' ');\n    \n      __out.push(__sanitize(this.name.familyName));\n    \n      __out.push('</h3>\\n<h4>');\n    \n      __out.push(__sanitize(this.dateOfBirth));\n    \n      __out.push('</h4>\\n<br>\\n        <table class=\"table table-striped\">\\n            <tr>\\n                <td>Relationship Status:</td>\\n                <td><i class=\"icon-home\"></i> ');\n    \n      __out.push(__sanitize(this.relationshipStatus));\n    \n      __out.push('</td>\\n            </tr>\\n            <tr>\\n                <td>Cell Phone:</td>\\n                <td><i class=\"icon-headphones\"></i> 9309430439349</td>\\n            </tr>\\n            <tr>\\n                <td>Email:</td>\\n                <td><i class=\"icon-envelope\"></i> <a href=\"mailto:test@test.com\">test@test.com</a></td>\\n            </tr>\\n            <tr>\\n                <td>Twitter:</td>\\n                <td><i class=\"icon-retweet\"></i> <a href=\"\">chridam</a></td>\\n            </tr>\\n        </table>\\n\\n        <div class=\"alert alert-warning\">\\n          <h4 class=\"alert-heading\">Warning</h4>\\n          This is just a test!\\n        </div>\\n');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","module.exports = function (__obj) {\n  if (!__obj) __obj = {};\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<br/>\\n<br/>\\n<br/>\\n<div class=\"row-fluid\">\\n    <div class=\"span4 text-center\">\\n        <img src=\"img/twitter.jpg\" width=\"100\"><br/><br/>\\n        <p>Follow me on Twitter<br/>\\n        <a href=\"http://twitter.com/ccoenraets\">@chridam</a></p>\\n        <br/>\\n    </div>\\n\\n    <div class=\"span4 text-center\">\\n        <img src=\"img/github.jpg\" width=\"100\"><br/><br/>\\n        <p>Watch me code on GitHub<br/>\\n        <a href=\"https://github.com/chrisdamba\">https://github.com/chrisdamba</a></p>\\n        <br/>\\n    </div>\\n\\n    <div class=\"span4 text-center\">\\n        <img src=\"img/blog.jpg\" width=\"100\"><br/><br/>\\n        <p>Visit my blog<br/><a href=\"http://chridam.com/blog\">http://chridam.com/blog</a></p>\\n        <br/>\\n    </div>\\n</div>\\n');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","module.exports = function (__obj) {\n  if (!__obj) __obj = {};\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<div class=\"navbar navbar-fixed-top\">\\n    <div class=\"navbar-inner\">\\n        <div class=\"container\">\\n            <button type=\"button\" class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\\n                <span class=\"icon-bar\"></span>\\n                <span class=\"icon-bar\"></span>\\n                <span class=\"icon-bar\"></span>\\n            </button>\\n            <a class=\"brand\" href=\"#\">Daylight Surgery</a>\\n\\n            <div class=\"nav-collapse collapse\">\\n                <ul class=\"nav\">\\n                    <li class=\"home-menu active\"><a href=\"#\">Home</a></li>\\n                    <li class=\"contact-menu\"><a href=\"#contact\">Consultations</a></li>\\n                    <li class=\"contact-menu\"><a href=\"#contact\">Appointments</a></li>\\n                    <li class=\"contact-menu\"><a href=\"#contact\">My Patients</a></li>\\n                    <li class=\"contact-menu\"><a href=\"#contact\">My Practice</a></li>\\n                </ul>\\n                <form class=\"navbar-search pull-right dropdown\">\\n                    <input id=\"searchText\" type=\"search\" class=\"search-query dropdown-toggle\" placeholder=\"Search\" autocomplete=\"off\">\\n                </form>\\n            </div>\\n            <!--/.nav-collapse -->\\n        </div>\\n    </div>\\n</div>\\n\\n\\n<div class=\"container\">\\n    <br/>\\n\\n    <div class=\"row-fluid\">\\n        <div class=\"span12\" id=\"content\"></div>\\n    </div>\\n\\n    <hr>\\n\\n    <footer>\\n        <p>&copy; Daylight Surgery 2013</p>\\n    </footer>\\n\\n</div>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}"]}